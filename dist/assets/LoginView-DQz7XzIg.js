import{_,u as y,d as i,b,c as p,a as s,t as l,g as m,I as g,J as v,j as I,T as V,N as x,o as f}from"./index-DvfOFjwQ.js";const M={class:"login-container"},U={class:"form-group"},S={class:"form-group"},k={key:0,class:"error-message"},B={__name:"LoginView",setup(N){const o=y(),r=i(""),t=i(""),n=i(""),c=x(),w=async()=>{try{r.value==="admin"&&t.value==="root"?(L(),c.push("/")):n.value="Invalid username or password"}catch(u){console.error("Login failed:",u),n.value="An error occurred during login"}};function L(){o.setUser({name:r.value}),console.log("is: ",o.isLoggedIn)}return b(()=>{console.log("is: ",o.isLoggedIn)}),(u,e)=>{var d;return f(),p("div",M,[e[5]||(e[5]=s("h2",null,"Login",-1)),s("h3",null,l(((d=m(o).user)==null?void 0:d.name)||"未登录"),1),s("h3",null,l(m(o).isLoggedIn?"已登录":"未登录"),1),s("form",{onSubmit:V(w,["prevent"])},[s("div",U,[e[2]||(e[2]=s("label",{for:"username"},"Username:",-1)),g(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),required:""},null,512),[[v,r.value]])]),s("div",S,[e[3]||(e[3]=s("label",{for:"password"},"Password:",-1)),g(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),required:""},null,512),[[v,t.value]])]),e[4]||(e[4]=s("div",{class:"form-group"},[s("button",{type:"submit"},"Login")],-1)),n.value?(f(),p("div",k,l(n.value),1)):I("",!0)],32)])}}},D=_(B,[["__scopeId","data-v-516fe465"]]);export{D as default};
