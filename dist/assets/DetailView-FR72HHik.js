import{r,c as N,l as S,a as m,b as s,t as i,u as v,i as T,v as P,F as b,e as R,k as $,o as _,n as j}from"./vendor-DljaJcOa.js";import{_ as q,k as z}from"./index-DGwT2cTH.js";const E="/assets/back-BrqCTv69.png",L={cellspacing:"0",class:"mockup_table"},U={class:"mockup_tr"},A={rowspan:"7"},G=["src"],H={colspan:"4",class:"tr_one tr_head"},J={class:"head_span"},K={colspan:"3",class:"tr_two Price"},O={class:"tr_tr_there"},Q=["value"],W={class:"td"},X={class:"tr_there"},Y={class:"td"},Z={class:"div"},ss=["src","onClick"],ts={__name:"DetailView",setup(es){const k=$(),l=z().items,g=r(l.image||"@/assets/images/aos/1.webp"),c=r(["src/assets/images/aos/1.webp","src/assets/images/aos/2.webp","src/assets/images/aos/3.webp","src/assets/images/aos/4.webp","src/assets/images/aos/5.webp","src/assets/images/aos/6.webp"]),e=r(1),f=N(()=>parseFloat(e.value*l.price).toFixed(2)+"元"),w=()=>{e.value>1?e.value--:alert("必须选择一件")},C=()=>{e.value<=u.value&&e.value++},h=o=>{const t=parseInt(o.target.value,10);isNaN(t)||t<0||t>u.value?(o.target.value=1,e.value=1,alert("购买数大于可售或输入错误")):e.value=t},a=r(0),I=o=>{a.value=o,d()},x=()=>{a.value--,a.value<0&&(a.value=c.value.length-1),d()},B=()=>{a.value++,a.value>=c.value.length&&(a.value=0),d()},d=()=>{const o=c.value[a.value];g.value=o},u=r(0),y=()=>Math.floor(Math.random()*1e3)+1;S(()=>{u.value=y()});const M=()=>{alert("收藏成功")},V=()=>{alert("已下单")},D=()=>{alert("已加入购物车")},F=()=>{k.back()};return(o,t)=>(_(),m(b,null,[s("div",{class:"back_bt"},[s("button",{id:"go-back-btn",onClick:F},t[3]||(t[3]=[s("img",{src:E},null,-1)]))]),s("table",L,[s("tr",U,[s("td",A,[s("img",{src:g.value||"@/assets/images/aos/1.webp",class:"mockup_img"},null,8,G)])]),s("tr",null,[s("td",H,[s("span",J,i(v(l).title),1)])]),s("tr",null,[t[4]||(t[4]=s("td",{colspan:"1",class:"tr_one"},"单价",-1)),s("td",K,i(v(l).price)+"元/"+i(v(l).unit),1)]),t[6]||(t[6]=s("tr",null,[s("td",{class:"tr_one"},"服务"),s("td",{colspan:"3",class:"tr_two"},"七天无理由退货·晚发必赔·极速退款")],-1)),t[7]||(t[7]=s("tr",null,[s("td",{class:"tr_one"},"物流"),s("td",{colspan:"3",class:"tr_two"},"农民物流")],-1)),s("tr",null,[t[5]||(t[5]=s("td",{rowspan:"2",class:"tr_one"},"数量",-1)),s("td",O,[s("input",{type:"text",value:f.value,disabled:""},null,8,Q)]),s("td",W,[s("a",{href:"javascript:;",class:"decrement",onClick:t[0]||(t[0]=n=>w())},"-"),T(s("input",{type:"number",class:"itxt","onUpdate:modelValue":t[1]||(t[1]=n=>e.value=n),onBlur:h},null,544),[[P,e.value]]),s("a",{href:"javascript:;",class:"increment",onClick:t[2]||(t[2]=n=>C())},"+")])]),s("tr",null,[s("td",X,i(u.value)+"件可售",1)]),s("tr",null,[s("td",Y,[s("button",{class:"left_button",onClick:x},"<"),s("div",Z,[(_(!0),m(b,null,R(c.value,(n,p)=>(_(),m("img",{key:p,src:n,class:j({selected:a.value===p}),onClick:os=>I(p)},null,10,ss))),128))]),s("button",{class:"right_button",onClick:B},">")]),s("td",{colspan:"4"},[s("div",{class:"button_one"},[s("button",{class:"collection",onClick:M}," ⭐收藏 "),s("button",{class:"purchase",onClick:V}," 🕹️立即购买 "),s("button",{class:"cart",onClick:D}," 🛒加入购物车 ")])])])])],64))}},rs=q(ts,[["__scopeId","data-v-9e401c7c"]]);export{rs as default};
